<form name="newVersionForm" (ngSubmit)="confirmCreateNewVersion(versionParam.id!)" novalidate [formGroup]="newVersionForm">
    <div class="modal-header">
        <h4 class="modal-title">
            <span>Confirm create new version from {{versionParam.itemType}} {{getLangIsoFormatted(versionParam.language!)}} <strong>{{vocabularyParam.notation}}</strong> {{versionParam.number}}</span>
        </h4>
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                (click)="clear()">&times;</button>
    </div>
    <div class="modal-body">
        <jhi-alert-error></jhi-alert-error>
        <span>Are you sure to create new version from {{versionParam.itemType}} {{getLangIsoFormatted(versionParam.language!)}} <strong>{{vocabularyParam.notation}}</strong> {{versionParam.number}}?</span>
        <br/><br/>
        <div *ngIf="versionParam.itemType === 'SL' && vocabularyParam.versions && vocabularyParam.versions!.length > 1">
            The following TLs will also be cloned as DRAFT after this new SL version is published:
            <div *ngFor="let version of vocabularyParam.versions">
                <span *ngIf="version.itemType === 'TL'">- TL {{getLangIsoFormatted(version.language!)}} {{version.number!}}-{{version.status!}}<br/></span>
            </div>
        </div>
        <br/>
        <div *ngIf="unPublishedTls && unPublishedTls !== ''" class="alert alert-danger" role="alert">
            <fa-icon style="font-size:200%" [icon]="'exclamation-triangle'"></fa-icon>
            <span>Warning: The following translations (TLs) have not yet been published:</span><br/>
            <span [innerHTML]="unPublishedTls"></span><br/><br/>
            <span>When you create a new SL version, these unpublished TLs will be:</span><br/>
            <span>- Cloned as TL drafts to the new SL version.</span><br/>
            <span>- They will be treated by the system as the first ever version of the TL. There will no change log or comparison table to previous version.</span><br/>
            <span>- TL version history and comparison tables of any previous versions are retained.</span><br/><br/>
            <span>If you are unsure how to proceed, please contact the CVS Content Contact.</span>
            <div class="form-check">
                <label class="form-check-label" for="agreeNewVersion">
                    <input class="form-check-input checkbox-2x" type="checkbox" name="agreeNewVersion" id="agreeNewVersion" formControlName="agreeNewVersion" required />
                    <span>I have read the warning and want to create the new SL version.</span>
                </label>
                <div *ngIf="newVersionForm.get('agreeNewVersion')!.invalid && (newVersionForm.get('agreeNewVersion')!.dirty || newVersionForm.get('agreeNewVersion')!.touched)">
                    <small class="form-text"
                           *ngIf="newVersionForm.get('agreeNewVersion')?.errors?.required">
                        Please checks the checkbox to continue.
                    </small>
                </div>
            </div>

        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="clear()">
            <fa-icon [icon]="'ban'"></fa-icon>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
        </button>
        <button id="jhi-confirm-delete-vocabulary" [disabled]="newVersionForm.invalid || isSaving" type="submit" class="btn btn-primary">
            <fa-icon [icon]="'folder-plus'"></fa-icon>&nbsp;<span>Create new version</span>
        </button>
    </div>
</form>
